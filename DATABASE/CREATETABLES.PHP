<?PHP
REQUIRE('CONNECTDB.PHP');
?>

<?PHP

//STUDENT TABLE
$STUDENT = "DROP TABLE STUDENT";

//EXECUTE QUERY
IF (MYSQLI_QUERY($CON, $STUDENT)) {
  ECHO "<P>STUDENT TABLE DROPPED SUCCESSFULLY</P>";
} ELSE {
  ECHO "ERROR DROPPING STUDENT TABLE: " . MYSQLI_ERROR($CON);
}

//STAFF TABLE
$STAFF = "DROP TABLE STAFF";

//EXECUTE QUERY
IF (MYSQLI_QUERY($CON, $STAFF)) {
  ECHO "<P>STAFF TABLE DROPPED SUCCESSFULLY</P>";
} ELSE {
  ECHO "ERROR DROPPING STAFF TABLE: " . MYSQLI_ERROR($CON);
}

//USERANSWER TABLE
$USERANSWER = "DROP TABLE USERANSWER";

//EXECUTE QUERY
IF (MYSQLI_QUERY($CON, $USERANSWER)) {
  ECHO "<P>USERANSWER TABLE DROPPED SUCCESSFULLY</P>";
} ELSE {
  ECHO "ERROR DROPPING USERANSWER TABLE: " . MYSQLI_ERROR($CON);
}

//QUESTIONS TABLE
$QUESTION = "DROP TABLE QUESTION";

//EXECUTE QUERY
IF (MYSQLI_QUERY($CON, $QUESTION)) {
  ECHO "<P>QUESTION TABLE DROPPED SUCCESSFULLY</P>";
} ELSE {
  ECHO "ERROR DROPPING QUESTION TABLE: " . MYSQLI_ERROR($CON);
}

//ANSWERS TABLE
$ANSWER = "DROP TABLE ANSWER";

//EXECUTE QUERY
IF (MYSQLI_QUERY($CON, $ANSWER)) {
  ECHO "<P>ANSWER TABLE DROPPED SUCCESSFULLY</P>";
} ELSE {
  ECHO "ERROR DROPPING ANSWER TABLE: " . MYSQLI_ERROR($CON);
}

?>

<?PHP

//STUDENT TABLE
$STUDENT = "CREATE TABLE STUDENT (
STUDENT_NUM INT NOT NULL AUTO_INCREMENT,
STUDENT_ID INT NOT NULL,
STUDENT_FIRSTNAME VARCHAR(35) NOT NULL,
STUDENT_LASTNAME VARCHAR(35) NOT NULL,
STUDENT_LOCATION VARCHAR(35) NOT NULL,
STUDENT_EMAIL VARCHAR(35) NOT NULL,
STUDENT_PASSWORD VARCHAR(256) NOT NULL,
PRIMARY KEY (STUDENT_NUM))";

//EXECUTE QUERY
IF (MYSQLI_QUERY($CON,$STUDENT)) {
  ECHO "<P>STUDENT TABLES CREATED SUCCESSFULLY</P>";
} ELSE {
  ECHO "ERROR CREATING STUDENT TABLE: " . MYSQLI_ERROR($CON);
}

//STAFF TABLE
$STAFF = "CREATE TABLE STAFF (
STAFF_NUM INT NOT NULL AUTO_INCREMENT,
STAFF_ID INT NOT NULL,
STAFF_FIRSTNAME VARCHAR(35) NOT NULL,
STAFF_LASTNAME VARCHAR(35) NOT NULL,
STAFF_LOCATION VARCHAR(35) NOT NULL,
STAFF_EMAIL VARCHAR(35) NOT NULL,
STAFF_PASSWORD VARCHAR(256) NOT NULL,
PRIMARY KEY (STAFF_NUM))";

//EXECUTE QUERY
IF (MYSQLI_QUERY($CON,$STAFF)) {
  ECHO "<P>STAFF TABLES CREATED SUCCESSFULLY</P>";
} ELSE {
  ECHO "ERROR CREATING STAFF TABLE: " . MYSQLI_ERROR($CON);
}

//QUESTIONS TABLE
$QUESTION = "CREATE TABLE QUESTION (
QUESTION_ID INT NOT NULL,
QUESTION VARCHAR(50) NOT NULL,
PRIMARY KEY (QUESTION_ID))";

//EXECUTE QUERY
IF (MYSQLI_QUERY($CON,$QUESTION)) {
  ECHO "<P>QUESTION TABLES CREATED SUCCESSFULLY</P>";
} ELSE {
  ECHO "ERROR CREATING QUESTION TABLE: " . MYSQLI_ERROR($CON);
}

//ANSWERS TABLE
$ANSWER = "CREATE TABLE ANSWER (
ANSWER_ID INT NOT NULL,
ANSWER VARCHAR(50) NOT NULL,
PRIMARY KEY (ANSWER_ID))";

//EXECUTE QUERY
IF (MYSQLI_QUERY($CON,$ANSWER)) {
  ECHO "<P>ANSWER TABLES CREATED SUCCESSFULLY</P>";
} ELSE {
  ECHO "ERROR CREATING ANSWER TABLE: " . MYSQLI_ERROR($CON);
}

//USER ANSWERS TABLE
$USERANSWER = "CREATE TABLE USERANSWER (
USERANSWER_NUM INT NOT NULL AUTO_INCREMENT,
ANSWER_ID INT NOT NULL,
QUESTION_ID INT NOT NULL,
PRIMARY KEY (USERANSWER_NUM),
FOREIGN KEY (QUESTION_ID) REFERENCES QUESTION (QUESTION_ID))";

//EXECUTE QUERY
IF (MYSQLI_QUERY($CON,$USERANSWER)) {
  ECHO "<P>USERANSWER TABLES CREATED SUCCESSFULLY</P>";
} ELSE {
  ECHO "ERROR CREATING USERANSWER TABLE: " . MYSQLI_ERROR($CON);
}

?>
