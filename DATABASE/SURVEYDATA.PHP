<?PHP
// Connect to Database
require "CONNECTDB.PHP";

//empty existing surveydata table
$surveyanswer = "TRUNCATE surveyanswer";
if (mysqli_query($CON, $surveyanswer)) {
  echo "<p>surveyanswer data deleted</p>";
} else {
  echo "Error deleting surveyanswer data: " . mysqli_error($CON);
}

// TODO Random skills not yet implemented
$numSkills = 11;
$rarity = 2.0;

// Insert sample data into table
$surveydata = "INSERT INTO surveyanswer (stu_ID,stu_hc,stu_js,stu_php,stu_java,stu_c,stu_cpp,stu_oc,stu_db,stu_u3,stu_ui,stu_se) VALUES ";
$studentIDs = [
216856084,
216116590,
216600366,
216030213,
216252283,
216822724,
216420635,
216830213,
216988272,
216986348,
216147717,
216901983,
216469334,
216152608,
216207865,
216746852,
216337658,
216232216,
216429653,
216909984,
216463558,
216592291,
216786574,
216983844,
216528480,
216314056,
216965849,
216275552,
216779566,
216412040,
216762187,
216498622,
216567433,
216249111,
216168384,
216883858,
216427960,
216391202,
216360811,
216902992,
216292829,
216720992,
216765045,
216440236,
216249197,
216828121,
216671593,
216587493,
216782631,
216949905,
216656298,
216685859,
216543826,
216454582,
216242484,
216636419,
216275634,
216184964,
216440367,
216402248,
216674327,
216734638,
216380225,
216800271,
216585007,
216021355,
216049775,
216836356,
216510372,
216254575,
216375217,
216498790,
216708060,
216425301,
216848062,
216435225,
216510246,
216935793,
216181579,
216040637,
216926394,
216817132,
216390639,
216072283,
216270368,
216120029,
216333608,
216608767,
216725302,
216843094,
216553948,
216801834,
216338930,
216542434,
216899114,
216446129,
216026988,
216776800,
216820558,
216043880
];
for ($i = 0; $i < 100; $i += 1)
{
    if ($i > 0)
        $surveydata .= ",";
    $surveydata .= "($studentIDs[$i], " . join(", ", randomSkills($i)) . ")";
}

if (mysqli_query($CON,$surveydata)) {
  echo "<P>Sample surveyanswer data inserted</P>";
} else {
  echo "Error inserting sample surveyanswer data: " . mysqli_error($CON);
}
?>
