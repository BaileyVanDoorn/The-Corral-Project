<?PHP
// Connect to Database
require "CONNECTDB.PHP";

//empty existing surveydata table
$surveyanswer = "TRUNCATE surveyanswer";
if (mysqli_query($CON, $surveyanswer)) {
  echo "<p>surveyanswer data deleted</p>";
} else {
  echo "Error deleting surveyanswer data: " . mysqli_error($CON);
}

// TODO Random skills not yet implemented
// $numSkills = 11;
// $rarity = 3.0;
//
// function randomSkill()
// {
//     global $rarity;
//     return 4 - (int)floor(log(rand(0, (int)floor(pow($rarity, 5.0)) - 1)) / log($rarity));
// }
//
// function randomSkills()
// {
//     global $numSkills;
//     $text = "";
//     for ($i = 0; $i < $numSkills; $i += 1)
//         $text .= "," . randomSkill();
//
//     $text .= ',null'; // project number
//     return $text;
// }

// Insert sample data into table
$surveydata = 'INSERT INTO surveyanswer (stu_ID,stu_hc,stu_js,stu_php,stu_java,stu_c,stu_cpp,stu_oc,stu_db,stu_u3,stu_ui,stu_se) VALUES
(216856084,2,1,0,1,1,2,3,0,1,3,4),
(216116590,0,3,1,0,0,0,4,0,4,3,0),
(216600366,0,3,0,2,3,1,0,1,1,4,2),
(216030213,3,3,2,2,1,4,4,0,2,1,0),
(216252283,1,3,3,2,0,2,0,0,2,3,0),
(216822724,3,2,2,4,2,2,0,3,4,1,4),
(216420635,4,4,3,1,1,4,2,1,4,2,2),
(216830213,4,1,4,0,0,2,4,0,1,3,0),
(216988272,4,3,4,2,3,1,4,2,2,2,1),
(216986348,2,0,0,0,0,1,4,1,0,1,0),
(216147717,4,3,0,0,0,1,3,2,1,1,2),
(216901983,0,1,4,0,3,3,0,3,1,3,0),
(216469334,0,1,4,0,4,3,0,3,3,2,0),
(216152608,4,4,3,2,3,1,2,2,2,4,3),
(216207865,0,0,3,0,2,2,1,0,0,2,1),
(216746852,4,2,2,2,0,0,3,1,0,1,0),
(216337658,0,2,1,3,2,3,2,3,3,3,2),
(216232216,2,3,2,0,0,3,1,1,1,0,3),
(216429653,2,0,4,1,2,0,0,3,0,2,3),
(216909984,2,2,3,4,2,2,2,2,0,4,4),
(216463558,1,3,4,4,3,3,1,3,4,1,4),
(216592291,0,1,3,4,1,0,0,1,2,4,4),
(216786574,4,0,3,2,0,4,3,0,4,1,0),
(216983844,2,1,2,3,1,1,2,2,3,0,3),
(216528480,2,0,1,4,3,2,0,4,2,2,1),
(216314056,4,2,3,0,3,4,4,4,3,4,3),
(216965849,1,0,3,1,0,0,3,1,2,4,3),
(216275552,3,4,0,1,4,2,3,1,3,2,0),
(216779566,4,0,2,1,4,1,3,4,2,1,0),
(216412040,2,0,3,3,4,4,3,3,1,1,3),
(216762187,4,2,0,3,3,3,3,1,0,3,2),
(216498622,1,2,4,4,0,1,1,2,2,1,4),
(216567433,2,2,2,4,4,1,3,1,1,4,2),
(216249111,3,0,2,0,3,1,2,3,3,2,0),
(216168384,4,0,3,3,2,4,2,4,0,4,0),
(216883858,1,2,0,4,4,1,1,4,4,3,1),
(216427960,3,0,4,1,1,2,0,1,3,1,0),
(216391202,1,4,4,4,3,1,2,4,0,4,3),
(216360811,0,2,2,1,1,3,4,2,1,1,4),
(216902992,2,1,3,4,2,3,0,2,4,4,1),
(216292829,3,4,1,2,1,4,1,4,4,0,0),
(216720992,1,3,0,1,2,3,2,2,3,4,2),
(216765045,3,3,0,3,0,3,3,2,3,4,1),
(216440236,1,4,0,0,2,2,1,3,4,1,3),
(216249197,4,1,3,0,2,2,2,0,4,1,1),
(216828121,2,1,1,2,3,3,0,4,3,2,4),
(216671593,0,2,4,3,0,2,4,1,3,4,0),
(216587493,4,2,0,0,1,3,3,2,3,3,3),
(216782631,3,0,1,0,1,0,2,4,4,1,4),
(216949905,1,3,1,1,3,3,0,2,1,1,2),
(216656298,3,0,3,4,4,0,1,0,0,1,1),
(216685859,0,3,1,0,4,0,4,2,0,1,3),
(216543826,2,2,3,4,3,2,4,2,3,2,0),
(216454582,3,0,1,1,3,4,4,3,1,2,4),
(216242484,2,0,0,4,4,1,4,2,2,4,2),
(216636419,1,3,2,3,4,2,1,1,1,0,0),
(216275634,3,0,2,3,3,2,0,4,0,1,2),
(216184964,4,2,3,0,2,4,2,2,1,0,3),
(216440367,1,0,0,4,3,1,4,0,3,1,4),
(216402248,1,0,1,4,1,2,3,2,0,0,2),
(216674327,0,1,1,3,4,1,0,0,3,0,4),
(216734638,3,3,1,2,4,3,0,2,4,3,4),
(216380225,3,1,2,0,3,4,0,3,1,0,4),
(216800271,2,1,0,3,3,2,4,1,0,2,3),
(216585007,2,4,0,3,1,2,1,4,1,4,4),
(216021355,3,4,2,0,2,2,4,4,4,0,3),
(216049775,0,4,2,3,1,3,3,0,2,0,2),
(216836356,0,1,2,1,2,1,2,2,3,4,0),
(216510372,0,4,1,1,2,0,4,3,3,0,4),
(216254575,3,3,4,4,3,2,1,2,1,3,4),
(216375217,4,4,2,1,1,2,2,3,2,2,2),
(216498790,2,2,3,2,1,4,4,4,4,4,3),
(216708060,1,3,4,3,3,1,1,3,1,0,1),
(216425301,1,4,1,4,1,3,3,3,0,2,4),
(216848062,2,2,4,1,0,0,2,0,4,4,2),
(216435225,2,3,0,0,1,0,3,4,2,1,0),
(216510246,3,3,4,1,2,2,3,2,0,3,3),
(216935793,3,1,2,0,4,2,2,4,0,1,1),
(216181579,0,0,2,2,3,0,2,2,1,4,0),
(216040637,3,3,4,4,0,1,2,1,0,3,4),
(216926394,0,3,4,3,0,3,0,1,4,4,1),
(216817132,2,3,2,3,4,2,0,3,1,2,2),
(216390639,2,1,4,2,2,4,4,1,3,0,3),
(216072283,4,0,3,2,0,4,3,1,2,0,3),
(216270368,2,4,1,1,0,1,2,2,0,2,1),
(216120029,1,3,1,3,4,0,1,1,0,2,1),
(216333608,1,0,4,2,0,0,4,4,0,4,2),
(216608767,2,0,1,3,3,0,2,1,2,4,0),
(216725302,0,2,2,1,0,0,2,0,3,0,0),
(216843094,2,4,1,2,3,3,4,0,2,0,2),
(216553948,4,0,1,0,0,3,4,3,3,4,3),
(216801834,0,2,2,3,0,1,4,2,4,4,2),
(216338930,1,2,0,0,4,2,4,0,3,4,1),
(216542434,3,3,2,1,0,3,3,1,3,2,0),
(216899114,4,1,2,4,1,1,2,1,4,2,1),
(216446129,2,2,0,3,2,2,4,2,4,4,1),
(216026988,1,3,0,3,3,1,4,2,1,0,4),
(216776800,2,4,3,3,1,3,1,4,4,0,2),
(216820558,0,3,4,4,3,1,1,1,4,4,3),
(216043880,4,1,2,1,0,0,0,4,3,1,0)
';

if (mysqli_query($CON,$surveydata)) {
  echo "<P>Sample surveyanswer data inserted</P>";
} else {
  echo "Error inserting sample surveyanswer data: " . mysqli_error($CON);
}
?>
